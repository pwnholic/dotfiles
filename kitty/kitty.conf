# ==============================================================================
# KITTY TERMINAL CONFIGURATION
# ==============================================================================

# ------------------------------------------------------------------------------
# FONT
# ------------------------------------------------------------------------------
font_family      Iosevka Nerd Font
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size 11.0

# Font adjustments
modify_font cell_height 140%
modify_font cell_width 100%
modify_font underline_position 2
modify_font underline_thickness 120%
modify_font strikethrough_position 2px

# Font features (Ligatures, etc.)
disable_ligatures never

# Text rendering
text_composition_strategy platform
force_directwrite_font_fallback yes

# ------------------------------------------------------------------------------
# CURSOR
# ------------------------------------------------------------------------------
cursor #c0caf5
cursor_shape block
cursor_blink_interval 0.5
cursor_stop_blinking_after 15.0

# ------------------------------------------------------------------------------
# SCROLLBACK
# ------------------------------------------------------------------------------
scrollback_lines 10000
scrollback_pager less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
scrollback_fill_enlarged_window no
scrollback_indicator_opacity 0.3

# Scroll behavior
wheel_scroll_multiplier 5.0
touch_scroll_multiplier 1.0

# ------------------------------------------------------------------------------
# MOUSE
# ------------------------------------------------------------------------------
mouse_hide_wait 3.0
default_pointer_shape beam
pointer_shape_when_grabbed arrow

# URL detection
url_style curly
url_prefixes http https file ftp gemini irc gopher mailto news git

# Open URLs with
open_url_with default

# Copy on select
copy_on_select clipboard
strip_trailing_spaces never
select_by_word_characters @-./_~?&=%+#

# Terminal selection
terminal_select_to_clipboard yes
terminal_select_forward_word_chars @-./_~?&=%+#

# Rectangle select modifiers
rectangle_select_modifiers ctrl+alt

# ------------------------------------------------------------------------------
# PERFORMANCE
# ------------------------------------------------------------------------------
repaint_delay 10
input_delay 3
sync_to_monitor yes

# ------------------------------------------------------------------------------
# BELL
# ------------------------------------------------------------------------------
enable_audio_bell no
visual_bell_duration 0.2
window_alert_on_bell yes
bell_border_color #e0af68
bell_on_tab yes
command_on_bell none

# ------------------------------------------------------------------------------
# WINDOW
# ------------------------------------------------------------------------------
remember_window_size yes
initial_window_width 120c
initial_window_height 40c

window_padding_width 0
window_margin_width 0
single_window_margin_width -1

window_border_width 0pt
window_margin_color #1a1b26
window_padding_color #1a1b26

# Border colors
active_border_color #7aa2f7
inactive_border_color #414868
bell_border_color #e0af68

# Window resize
resize_in_steps no

# Hide window decorations
hide_window_decorations no
hide_window_decorations_titlebar no

# ------------------------------------------------------------------------------
# TAB BAR
# ------------------------------------------------------------------------------
tab_bar_edge top
tab_bar_style fade
tab_bar_min_tabs 2
tab_fade 1
tab_separator " â”‡"

active_tab_foreground #1a1b26
active_tab_background #7aa2f7
active_tab_font_style bold+italic

inactive_tab_foreground #787c99
inactive_tab_background #1f2335
inactive_tab_font_style normal

tab_bar_background #1a1b26

# ------------------------------------------------------------------------------
# LAYOUT
# ------------------------------------------------------------------------------
enabled_layouts tall:bias=50;full_size=1;mirror=false;axis=vertical, stack, fat:bias=50;mirror=false;axis=horizontal, grid, horizontal, vertical, splits

# Split defaults
split_split_orientation vertical
split_axis_auto_layout true

# ------------------------------------------------------------------------------
# SHELL
# ------------------------------------------------------------------------------
shell fish

# Editor
editor .

# ------------------------------------------------------------------------------
# BACKGROUND
# ------------------------------------------------------------------------------
background_opacity 1
dynamic_background_opacity yes
background_image none
background_image_layout centered
background_image_linear no
background_blur 0

# Dim inactive splits
dim_opacity 0.75

# ------------------------------------------------------------------------------
# FOREGROUND & SELECTION
# ------------------------------------------------------------------------------
foreground #c0caf5
background #1a1b26

selection_foreground #c0caf5
selection_background #33467c

# ------------------------------------------------------------------------------
# TERMINAL COLORS (TOKYO NIGHT)
# ------------------------------------------------------------------------------
# Black
color0 #15161e
color8 #414868

# Red
color1 #f7768e
color9 #f7768e

# Green
color2 #9ece6a
color10 #9ece6a

# Yellow
color3 #e0af68
color11 #e0af68

# Blue
color4 #7aa2f7
color12 #7aa2f7

# Magenta
color5 #bb9af7
color13 #bb9af7

# Cyan
color6 #7dcfff
color14 #7dcfff

# White
color7 #a9b1d6
color15 #c0caf5

# ------------------------------------------------------------------------------
# KEY BINDINGS - TABS
# ------------------------------------------------------------------------------
# Create new tab
map alt+t new_tab
map alt+shit+q close_tab

# Next/previous tab
map alt+shift+right next_tab
map alt+shift+left previous_tab

# Move tab
map alt+shift+> move_tab_forward
map alt+shift+< move_tab_backward

# Go to specific tab
map alt+shift+1 goto_tab 1
map alt+shift+2 goto_tab 2
map alt+shift+3 goto_tab 3
map alt+shift+4 goto_tab 4
map alt+shift+5 goto_tab 5
map alt+shift+6 goto_tab 6
map alt+shift+7 goto_tab 7
map alt+shift+8 goto_tab 8
map alt+shift+9 goto_tab 9

# ------------------------------------------------------------------------------
# KEY BINDINGS - WINDOWS/SPLITS
# ------------------------------------------------------------------------------
# New window
map alt+enter new_window

# Close window
map alt+w close_window

# Next/previous window
map alt+shift+] next_window
map alt+shift+[ previous_window

# Move window
map alt+shift+. move_window_forward
map alt+shift+, move_window_backward

# Splits
map alt+shift+h launch --location=hsplit --cwd=current
map alt+shift+v launch --location=vsplit --cwd=current

# Layouts
map alt+shift+l next_layout

# ------------------------------------------------------------------------------
# KEY BINDINGS - SCROLLBACK
# ------------------------------------------------------------------------------
# Scroll to bottom/top
map alt+end scroll_end
map alt+home scroll_home
map alt+page_up scroll_page_up
map alt+page_down scroll_page_down

# Scroll line by line
map alt+shift+up scroll_line_up
map alt+shift+down scroll_line_down

# ------------------------------------------------------------------------------
# KEY BINDINGS - MISCELLANEOUS
# ------------------------------------------------------------------------------
# Change font size
map alt+equal change_font_size all +2.0
map alt+minus change_font_size all -2.0
map alt+0 change_font_size all 0

# Toggle fullscreen
map alt+f toggle_fullscreen

# Toggle maximized
map alt+m toggle_maximized

# Clear terminal
map alt+k clear_terminal reset active

# Show/hide kitty config
map alt+f2 launch --stdin-source=@screen_scrollback --type=overlay less +G

# Unicode input
map alt+u unicode_input

# Show kitty hints
map alt+e>kitty_cmd hints

# ------------------------------------------------------------------------------
# KEY BINDINGS - ENVIRONMENT
# ------------------------------------------------------------------------------
# Pass through escape sequences
map shift+enter send_text all \e\r

# ------------------------------------------------------------------------------
# KEY BINDINGS - MISC
# ------------------------------------------------------------------------------
# Reset terminal
map alt+delete clear_terminal reset active

# Edit config file
map alt+f1 edit_config_file

# Reload config
map alt+r load_config_file

# ------------------------------------------------------------------------------
# ADVANCED
# ------------------------------------------------------------------------------
# Shell integration
shell_integration enabled

# Confirm window close
confirm_os_window_close 0

# Focus handling
focus_follows_mouse no

# Delay before screen update (ms)
repaint_delay 10

# Input delay (ms)
input_delay 3

# Sync to monitor refresh rate
sync_to_monitor yes

# Allow remote control (for scripts)
allow_remote_control yes
listen_on none

# Environment variables
env KITTY_WINDOW_ID 1
env KITTY_PID 1

# Update check
update_check_interval 0

# Session restore
session_restore yes
